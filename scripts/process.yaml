# ==============================================================
# Processing configuration R20
# version: development
#
#
# Available window parameters:
#
#   window_min_from_start_usec
#   window_max_from_start_usec
#   window_min_to_end_usec
#   window_max_to_end_usec
#   window_min_from_trig_usec
#   window_max_from_trig_usec
# 
# ==============================================================

filter_file: /home/serfass/workspace/processing/filter_r20_dev.hdf5

# -------------------------
# Feature configuration
# for ALL channels
# -------------------------

all:
   
    
    of1x1_nodelay:
        run: False

    of1x1_unconstrained:
        run: False

    of1x1_constrained:
        run: False
        window_min_from_trig_usec: -400
        window_max_from_trig_usec: 400

    baseline_pre:
        run: True
        base_algorithm: baseline
        window_min_from_start_usec: 0
        window_max_from_trig_usec: -500

    baseline_post:   
        run: False
        base_algorithm: baseline
        window_min_from_trig_usec: 3000
        window_max_to_end_usec: 0


    integral:
        run: True
        window_min_from_trig_usec: -500
        window_max_from_trig_usec: 500

    maximum:
        run: True
        window_min_from_trig_usec: -500
        window_max_from_trig_usec: 500

    minimum:
        run: True
        window_min_from_trig_usec: -500
        window_max_from_trig_usec: 500
       
# -------------------------
# Feature configuration
# for specific channels
# -------------------------


CPDv21Ge:
 
    of1x1_unconstrained_glitch:
        run: True
        base_algorithm: of_unconstrained
        template_tag: glitch
        template_tag_slow: dadasd
        template_tag_fast: fast
           

    of1x1_nodelay:
        run: False
   

    of1x1_constrained:
        run: True
        window_min_from_trig_usec: -400
        window_max_from_trig_usec: 400

    energyabsorbed:
        run: True
        window_min_from_trig_usec: -100
        window_max_from_trig_usec: 1500
        vb: -9.25e-7
        i0: -11.132e-6
        rl: 9.4e-3



IrPtTESSmall,IrPtTESBig:
    disable: True

    of1x1_nodelay: 
        run: True

    of1x1_constrained:
        run: True
        template_tag: 3poles
        windowcenter: 0
        nconstrain: 100

# sum of pulses
IrPtTESSmall+IrPtTESBig:
  
    feature_channel: TotIrPt
    
    of1x1_nodelay: 
        run: True

    of1x1_unconstrained:
        run: True

    of1x1_constrained:
        run: True
        window_min_from_trig_usec: -300
        window_max_from_trig_usec: 300
        

# multi-channels algoritm
IrPtTESSmall|IrPtTESBig:
      disable: True
      feature_channel: IrPt2x2
      
